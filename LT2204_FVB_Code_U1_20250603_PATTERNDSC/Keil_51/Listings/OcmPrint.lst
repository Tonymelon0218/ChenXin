C51 COMPILER V9.60.0.0   OCMPRINT                                                          11/21/2025 11:03:14 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE OCMPRINT
OBJECT MODULE PLACED IN .\Objects\OcmPrint.obj
COMPILER INVOKED BY: D:\DevTools\Keil_5\Keil_v5\C51\BIN\C51.EXE ..\User\L3_Ocm\OcmPrint.c LARGE OBJECTADVANCED OPTIMIZE(
                    -11,SIZE) REGFILE(.\Objects\LT6911GXD_Pattern_MIPI_C-PHY_2D_NoBurst_2160x2160@120_251121_01.ORC) BROWSE INCDIR(..\User\L0
                    -_App;..\User\L1_Module;..\User\L2_Drive;..\User\L3_Ocm) DEBUG PRINT(.\Listings\OcmPrint.lst) OBJECT(.\Objects\OcmPrint.o
                    -bj)

line level    source

   1          //////////////////////////////////////
   2          //Project:   LT2101
   3          //Filename:  Print.c
   4          //Version:   V1.0
   5          //Copyright: Lontium
   6          //////////////////////////////////////
   7          #include "Include.h"
   8          
   9          #define MAX_NUMBER_BYTES 128
  10          
  11          u8 code g_ucPrintLvl = INIT_PRINT_LVL;
  12          
  13          //example
  14          //    codea = 0x01;
  15          //    codeb = 0x0002;
  16          //    codec = 0x00000003;
  17          //    printLT(PRINT_PRIO_HIG, "\n1");  
  18          //    printLT(PRINT_PRIO_HIG, "\nh'u8 is 0x%02bx", codea);
  19          //    printLT(PRINT_PRIO_HIG, "\nh'u16 is 0x%04x", codeb);
  20          //    printLT(PRINT_PRIO_HIG, "\nh'u32 is 0x%08lx",codec);
  21          //    printLT(PRINT_PRIO_HIG, "\nd'u8 is %bd", codea);
  22          //    printLT(PRINT_PRIO_HIG, "\nd'u16 is %d", codeb);
  23          //    printLT(PRINT_PRIO_HIG, "\nd'u32 is %ld", codec);
  24          
  25          
  26          //===========================================
  27          //func  :print func
  28          //input :first, print level, all remaining is print context
  29          //output:N/A
  30          //return:void
  31          //Info  :N/A
  32          //===========================================
  33          void printLT(u8 ucLvl, const char* fmt, ...)
  34          {
  35   1          #if DEBUGGING == ENABLED
  36   1          va_list args;
  37   1          char i;
  38   1          char buf[MAX_NUMBER_BYTES];
  39   1          if(ucLvl <= g_ucPrintLvl)
  40   1          {
  41   2              va_start(args, fmt);
  42   2              vsprintf((char *)buf, fmt, args);
  43   2              va_end(args);
  44   2              for(i = 0; i< strlen((char *)buf); i++)
  45   2              {
  46   3                  putchar(buf[i]);
  47   3              }
  48   2          }
  49   1          #endif
  50   1      }
  51          
  52          u8 g_ucLogLevel = LOG_DEBUG;
C51 COMPILER V9.60.0.0   OCMPRINT                                                          11/21/2025 11:03:14 PAGE 2   

  53          RDATA char *messageTypeStr[] = {"DEBUG","INFO","WARN", "ERROR","CRIT"};
  54          
  55          void LTLog(u8 ucLvl, const char* fmt, ...)
  56          {
  57   1          char buf[MAX_NUMBER_BYTES] = {0};
  58   1          va_list args;
  59   1          if (ucLvl > LOG_NOTRACE)
  60   1          {
  61   2              return;
  62   2          }
  63   1          
  64   1          if(ucLvl >= g_ucLogLevel)
  65   1          {
  66   2              va_start(args, fmt);
  67   2              vsprintf(buf, fmt, args);
  68   2              va_end(args);
  69   2              printf("\n[%-5s] %s", messageTypeStr[ucLvl], buf);
  70   2          }
  71   1      }
  72          
  73          //===========================================
  74          //func  :set print level
  75          //input :current print level
  76          //output:N/A
  77          //return:void
  78          //Info  :N/A
  79          //===========================================
  80          //void Ocm_Print_LevelSet(IN u8 ucLvl)
  81          //{
  82          //   g_ucPrintLvl = ucLvl;
  83          //}
  84          
  85          //===========================================
  86          //func  :acquire current print level
  87          //input :N/A
  88          //output:N/A
  89          //return:current print level
  90          //Info  :N/A
  91          //===========================================
  92          //u8 Ocm_Print_LevelGet(void)
  93          //{
  94          //   return g_ucPrintLvl;
  95          //}


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    305    ----
   CONSTANT SIZE    =    182    ----
   XDATA SIZE       =      1     351
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
   EDATA SIZE       =   ----    ----
   HDATA SIZE       =   ----    ----
   XDATA CONST SIZE =   ----    ----
   FAR CONST SIZE   =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
